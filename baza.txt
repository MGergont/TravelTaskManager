CREATE TABLE najemcy(
    id_najemca int NOT NULL AUTO_INCREMENT, 
	name varchar(20) NOT NULL,
    last_name varchar(20) NOT NULL,
    pesel int(11) NOT NULL,
    phone_number bigint NOT NULL,
    email varchar(50),
    pwd varchar(255) NOT NULL,
    last_login DATETIME,
    user_status varchar(20),
    user_grant varchar(20) NOT NULL, 
    CONSTRAINT PK_id_najemca PRIMARY KEY (id_najemca)
);

INSERT INTO `najemcy` (`id_najemca`, `name`, `last_name`, `pesel`, `phone_number`, `email`, `pwd`, `last_login`, `user_status`, `user_grant`) VALUES (NULL, 'Jan', 'Kowalski', '01111111111', '577074483', 'qwerty@gmail.pl', '$2y$10$Fg3Fva/nNtK1VzEtfulH3eE8N0nkTmEsgugKVFXpewsbYw7zQOj2C', '2024-06-15 18:39:11', 'aktywny', 'admin');

hasło to 1234567

kamil@domena.pl
hasło to 123456789

kubus@karnas.pl
hasło to qwerty1234

CREATE TABLE ustawienia(
    id_settings int NOT null AUTO_INCREMENT,
    id_najemca int,
    theme varchar(10) DEFAULT 'dark',
    lang varchar(20),
    CONSTRAINT PK_id_settings PRIMARY KEY (id_settings),
    FOREIGN KEY (id_najemca) REFERENCES najemcy(id_najemca) ON DELETE CASCADE
);

INSERT INTO ustawienia VALUES (NULL, 1, 'ciemny', 'pl');


array(4) { ["id_settings"]=> int(1) ["theme"]=> string(6) "ciemny" ["lang"]=> string(2) "pl" ["settingsView"]=> string(7) "testttt" }

CREATE TABLE mieszkanie ( 
    id_mieszkanie int NOT NULL AUTO_INCREMENT,
    name varchar(30) NOT NULL,
    country varchar(20) NOT NULL,
    city varchar(30) NOT NULL,
    zip_code varchar(6) NOT NULL,
    street varchar(30),
    apartment_number int NOT NULL,
    price double,
    surface double,
    rent double,
    id_wspolnota int,
    CONSTRAINT PK_id_mieszkanie PRIMARY KEY (id_mieszkanie),
    FOREIGN KEY (id_wspolnota) REFERENCES wspolnota(id_wspolnota)
);

INSERT INTO mieszkanie VALUES (NULL, 'Jakieś', 'Państwo', 'Miasto', 'ko-poc', 'Ulica', 123, 34.50, 34.2, 300.4, NULL);


CREATE TABLE wspolnota (
	id_wspolnota int NOT NULL AUTO_INCREMENT,
    name varchar(50) NOT NULL,
    office_address varchar(100),
    work_hours varchar(30),
    phone_number bigint,
    CONSTRAINT PK_id_wspolnota PRIMARY KEY (id_wspolnota)
)

INSERT INTO `wspolnota` (`id_wspolnota`, `name`, `office_address`, `work_hours`, `phone_number`) VALUES (NULL, 'jakaś wspulnota', 'Nienadowa 4321 37-750 Dynów', 'od 3 do 15', '999999999');


CREATE TABLE wynajem(
	id_wynajem int NOT NULL AUTO_INCREMENT,
    start_rent DATETIME,
    stop_rent DATETIME,
    id_najemca int,
    id_mieszkanie int,
    CONSTRAINT PK_id_wynajem PRIMARY KEY (id_wynajem),
    FOREIGN KEY (id_najemca) REFERENCES najemcy(id_najemca),
    FOREIGN KEY (id_mieszkanie) REFERENCES mieszkanie(id_mieszkanie)
);


INSERT INTO wynajem (`id_wynajem`, `start_rent`, `stop_rent`, `id_najemca`, `id_mieszkanie`) VALUES (NULL, '2024-06-01 11:08:25', '2024-06-22 11:08:25', '1', '2');


SELECT id_mieszkanie, name, country, city, zip_code, street, apartment_number, price, surface FROM mieszkanie